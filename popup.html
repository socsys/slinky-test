<!DOCTYPE html>
<html>
<meta charset="utf-8">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
<link rel="stylesheet" href="popup.css">
<script src="browser-polyfill.min.js"></script>
<script src="popup.js"></script>
<script src="speedtest.js"></script>

<style type="text/css">

.collapsible {
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 4px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
}

.active, .collapsible:hover {
  background-color: #555;
}

.content {
  padding: 0 10px;
  width: 100%;
  display: none;
  overflow: hidden;
  background-color: #f1f1f1;
}

</style>

<div id="titleUni"> University of Surrey Measurements Extension </div> <br><br>
<div id="tabUrl" style="display: none;"></div>
<div id="requestStart" style="display: none;"></div>

<div id="consent"> Note: By participating in this study, you consent to be part of the research study conducted by University of Surrey and agree to the terms available <a href="https://socsys.github.io/satperf/consent.html" target="_blank"> here </a>. For more information, refer to the participate inforamtion sheet available <a href="https://socsys.github.io/satperf/pis.html" target="_blank"> here </a> </div>
<br>
<br>

<div id="check sharing"> Would you like to share the results with the University of Surrey research project? </div>
<div id="shareData">
  <label for="chkPassport">
    <input type="checkbox" id="chk1" align="left" />
    Share the anonymised measurement results below
  </label>
</div>

<div id="shareLocation">
  <label for="chkPassportLoc">
    <input type="checkbox" id="chk2" align="left" />
    Share location information - City only
  </label>
</div>

<div id="shareLatLong">
  <label for="chkPassportLatLong">
    <input type="checkbox" id="chk3" align="left" />
    Share location information - Latitude/Longitude
  </label>
</div>

<div id="butShare">
  <button type="button" id="btn_s"> Share </button>
</div>
<div id="error" style="color: red; font-weight: bold;"></div>
<!-- <div id="demoo"> HELLOOOOO </div> -->
<div id="divCheckboxg" style="display: none;"> HELLOOOOO </div>
<div id="divCheckboxh" style="display: none;"> HELLOOOOO </div>
<div id="latt" style="display: none;"> HELLOOOOO </div>
<div id="longg" style="display: none;"> HELLOOOOO </div>

<br>

<button type="button" class="collapsible" id="a00">Performance in loading current website</button>

<div class="content">
<h3>Load timings (ms)</h3>
<div id="container">
    <div id="header">
        <span>Event</span>
        <span>Time in ms</span>
        <span>Average time for others in ms</span>

    </div>
    <div class="row" id="r-redirect">
        <span>Redirect</span>
        <span id="redirect"></span>
        <span id="redirect_others"></span>
    </div>
    <div class="row" id="r-dns">
        <span>DNS</span>
        <span id="dns"></span>
        <span id="dns_others"></span>
    </div>
    <div class="row" id="r-connect">
        <span>Connect</span>
        <span id="connect"></span>
        <span id="connect_others"></span>
    </div>
    <div class="row" id="r-request">
        <span>Request</span>
        <span id="request"></span>
        <span id="request_others"></span>
    </div>
    <div class="row" id="r-response">
        <span>Response</span>
        <span id="response"></span>
        <span id="response_others"></span>
    </div>
    <div class="row" id="r-dom">
        <span>DOM</span>
        <span id="dom"></span>
        <span id="dom_others"></span>
    </div>
    <div class="row" id="r-domParse">
        <span class="sub">Parse</span>
        <span id="domParse"></span>
        <span id="domParse_others"></span>
    </div>
    <div class="row" id="r-domScripts">
        <span class="sub">Execute Scripts</span>
        <span id="domScripts"></span>
        <span id="domScripts_others"></span>
    </div>
    <div class="row" id="r-contentLoaded">
        <span class="sub">Content loaded</span>
        <span id="contentLoaded"></span>
        <span id="contentLoaded_others"></span>
    </div>
    <div class="row" id="r-domSubRes">
        <span class="sub">Sub Resources</span>
        <span id="domSubRes"></span>
        <span id="domSubRes_others"></span>
    </div>
    <div class="row" id="r-load">
        <span>Load event</span>
        <span id="load"></span>
        <span id="load_others"></span>
    </div>
    <div class="row" id="r-total">
        <span>Total</span>
        <span id="total"></span>
        <span id="total_others"></span>
    </div>
    <div class="row" id="demo">
    </div>
  </div>
</div>

<br>
<!-- <div id="speedtest"></div> -->
<!-- <h3>Top Alexa Sites</h3> -->

<button type="button" class="collapsible" id="sa">Performance in loading popular wesbites</button>

<div class="content">
<h3>Load timings (ms)</h3>
<div id="container">
    <div id="header">
        <span>A random selection from</span>
        <span>Time in ms</span>
        <span>Average time for others in ms</span>

    </div>
    <div class="row" id="r-top500" style="font-weight: bold">
        <span>Top 500 websites</span>
        <span id="rr-500"></span>
        <span id="rr_others-500"></span>
    </div>
    <div class="row" id="r-s1-500">
        <span class="sub" id="sr-s1-500">Parse</span>
        <span id="d-s1-500"></span>
        <span id="d-s1_others-500"></span>
    </div>
    <div class="row" id="r-s2-500">
        <span class="sub" id="sr-s2-500">Parse</span>
        <span id="d-s2-500"></span>
        <span id="d-s2_others-500"></span>
    </div>
    <div class="row" id="r-s3-500">
        <span class="sub" id="sr-s3-500">Parse</span>
        <span id="d-s3-500"></span>
        <span id="d-s3_others-500"></span>
    </div>
    <div class="row" id="r-s4-500">
        <span class="sub" id="sr-s4-500">Parse</span>
        <span id="d-s4-500"></span>
        <span id="d-s4_others-500"></span>
    </div>
    <div class="row" id="r-s5-500">
        <span class="sub" id="sr-s5-500">Parse</span>
        <span id="d-s5-500"></span>
        <span id="d-s5_others-500"></span>
    </div>


    <div class="row" id="r-top10k" style="font-weight: bold">
        <span>Top 10k websites</span>
        <span id="rr-10k"></span>
        <span id="rr_others-10k"></span>
    </div>
    <div class="row" id="r-s1-10k">
        <span class="sub" id="sr-s1-10k">Parse</span>
        <span id="d-s1-10k"></span>
        <span id="d-s1_others-10k"></span>
    </div>
    <div class="row" id="r-s2-10k">
        <span class="sub" id="sr-s2-10k">Parse</span>
        <span id="d-s2-10k"></span>
        <span id="d-s2_others-10k"></span>
    </div>
    <div class="row" id="r-s3-10k">
        <span class="sub" id="sr-s3-10k">Parse</span>
        <span id="d-s3-10k"></span>
        <span id="d-s3_others-10k"></span>
    </div>

    <div class="row" id="r-top1m" style="font-weight: bold">
        <span>Top 1M websites</span>
        <span id="rr-1m"></span>
        <span id="rr_others-1m"></span>
    </div>
    <div class="row" id="r-s1-1m">
        <span class="sub" id="sr-s1-1m">Parse</span>
        <span id="d-s1-1m"></span>
        <span id="d-s1_others-1m"></span>
    </div>
    <div class="row" id="r-s2-1m">
        <span class="sub" id="sr-s2-1m">Parse</span>
        <span id="d-s2-1m"></span>
        <span id="d-s2_others-1m"></span>
    </div>
  </div>
</div>


<!-- <div class="content">
  <div class="content" style="display: flex; width: 100%; height: 315px; border: none; text-align: left; outline: none; font-size: 14px; line-height: 1.6;">
      <div style="width: 80%; background: white; style=text-align: right;" id="id01">
          <button type="button" class="collapsible" id="aa01">Random top 500 websites</button>
          <div class="content">
            <div class="content" style="display: flex; width: 100%; height: 115px; border: none; text-align: left; outline: none; font-size: 14px; line-height: 1.6;">
                <div style="width: 100%; background: #f1f1f1; style=text-align: right;" id="id001">
                </div>
                <div style="display: flex; width: 20%; height: 115px; background: #f1f1f1; style=text-align: right;" id="id0011">
                </div>
            </div>
          </div>

          <button type="button" class="collapsible" id="aa02">Random top 10k websites</button>
            <div class="content">
              <div class="content" style="display: flex; width: 100%; height: 75px; border: none; text-align: left; outline: none; font-size: 14px; line-height: 1.6;">
                  <div style="width: 100%; background: #f1f1f1; style=text-align: right;" id="id002">
                  </div>
                  <div style="display: flex; width: 20%; height: 75px; background: #f1f1f1; style=text-align: right;" id="id0022">
                  </div>
              </div>
            </div>

          <button type="button" class="collapsible" id="aa03">Random top 1M websites</button>
              <div class="content">
                <div class="content" style="display: flex; width: 100%; height: 60px; border: none; text-align: left; outline: none; font-size: 14px; line-height: 1.6;">
                    <div style="width: 100%; background: #f1f1f1; style=text-align: right;" id="id003">
                    </div>
                    <div style="display: flex; width: 20%; height: 60px; background: #f1f1f1; style=text-align: right;" id="id0033">
                    </div>
                </div>
              </div>
      </div>
      <!-- <div style="flex-grow: 1; background: white; style=text-align: right;" id="id02">

      </div> -->

<!-- <button type="button" class="collapsible" id="a02">Speed Test Measurements</button>
<div class="content"> -->
<!-- <div id="speedtest"> -->
<!-- <h3>Speed Test (Mbps)</h3> -->
<!-- <iframe id="myFrame" src="https://librespeed.org/" height="870" width="420" style="border:none;" scrolling="no"></iframe> -->
<!-- <embed type="text/html" src="https://librespeed.org/"  width="420" height="870"> -->
<!-- <webview src="http://news.google.com/" width="640" height="480"></webview> -->
<!-- <object data="https://librespeed.org/" width="420" height="870"></object> -->
<!-- </div> -->
<!-- <iframe id="myFrame" src="http://34.89.29.21/index.html" height="550" width="420" style="border:none;" scrolling="no"></iframe> -->
<iframe id="myFrame" src="https://measurements.duckdns.org/index.html" height="550" width="420" style="border:none;" scrolling="no"></iframe>
<!-- </div> -->


<script type="text/javascript">
    initUI();
</script>
</html>
